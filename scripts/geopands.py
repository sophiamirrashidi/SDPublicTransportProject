import geopandas as gpd
import matplotlib.pyplot as plt
import cartopy.feature as cfeature
import cartopy.crs as ccrs

# Load the shapefile
streets = gpd.read_file('/Users/sophia/Downloads/DSPROJECT/simanneal/examples/tl_2018_06073_roads')

# Define San Diego's longitude and latitude
sd_lon, sd_lat = -117.16, 32.72

# Create a map centered on San Diego
fig = plt.figure(figsize=(8, 8))
ax = fig.add_subplot(1, 1, 1, projection=ccrs.PlateCarree())
ax.set_extent([-117.16, -117.12, 32.73, 32.77])
ax.add_feature(cfeature.LAND)
ax.add_feature(cfeature.OCEAN)
ax.add_feature(cfeature.COASTLINE)
ax.add_feature(cfeature.BORDERS)
ax.add_feature(cfeature.STATES)


# Original stops
originalStops = [
(-117.146,32.761),
(-117.15,32.76),
(-117.145,32.76),
(-117.146,32.757),
(-117.15,32.76),
(-117.146,32.754),
(-117.147,32.754),
(-117.15,32.75),
(-117.146,32.752),
(-117.146,32.749),
(-117.184,32.741),
(-117.15,32.75),
(-117.124,32.749),
(-117.126,32.748),
(-117.126,32.749),
(-117.128,32.748),
(-117.128,32.749),
(-117.13,32.748),
(-117.131,32.749),
(-117.132,32.749),
(-117.133,32.748),
(-117.134,32.748),
(-117.135,32.749),
(-117.137,32.748),
(-117.137,32.749),
(-117.138,32.748),
(-117.14,32.749),
(-117.14,32.75),
(-117.142,32.749),
(-117.143,32.748),
(-117.147,32.748),
(-117.147,32.749),
(-117.149,32.748),
(-117.15,32.75),
(-117.151,32.749),
(-117.151,32.748),
(-117.154,32.748),
(-117.154,32.749),
(-117.155,32.748),
(-117.146,32.755),
(-117.143,32.755),
(-117.143,32.755),
(-117.14,32.755),
(-117.147,32.748),
(-117.139,32.755),
(-117.138,32.755),
(-117.135,32.755),
(-117.135,32.755),
(-117.133,32.755),
(-117.133,32.755),
(-117.131,32.755),
(-117.13,32.755),
(-117.128,32.755),
(-117.127,32.755),
(-117.139,32.761),
(-117.139,32.76),
(-117.14,32.76),
(-117.139,32.757),
(-117.144,32.763),
(-117.144,32.762),
(-117.14,32.76),
(-117.14,32.763),
(-117.138,32.763),
(-117.137,32.763),
(-117.134,32.763),
(-117.133,32.763),
(-117.13,32.76),
(-117.13,32.763),
(-117.13,32.763),
(-117.128,32.763),
(-117.13,32.759),
(-117.13,32.759),
(-117.13,32.76)
]

# Define coordinates to plot
coords = [(-117.146,32.749),
(-117.146,32.752),
(-117.146,32.754),
(-117.146,32.755),
(-117.146,32.757),
(-117.15,32.757),
(-117.15,32.76),
(-117.145,32.76),
(-117.146,32.76),
(-117.146,32.761),
(-117.144,32.761),
(-117.144,32.762),
(-117.144,32.763),
(-117.134,32.763),
(-117.128,32.763),
(-117.13,32.763),
(-117.13,32.76),
(-117.13,32.759),
(-117.127,32.759),
(-117.127,32.755),
(-117.128,32.755),
(-117.128,32.749),
(-117.126,32.749),
(-117.124,32.749),
(-117.126,32.749),
(-117.126,32.748),
(-117.128,32.748),
(-117.13,32.748),
(-117.131,32.748),
(-117.131,32.749),
(-117.132,32.749),
(-117.135,32.749),
(-117.135,32.755),
(-117.138,32.755),
(-117.139,32.755),
(-117.139,32.76),
(-117.139,32.761),
(-117.139,32.757),
(-117.139,32.755),
(-117.143,32.755),
(-117.147,32.755),
(-117.147,32.754),
(-117.147,32.749),
(-117.151,32.749),
(-117.151,32.748),
(-117.15,32.749),
(-117.15,32.75),
(-117.149,32.75),
(-117.149,32.748),
(-117.147,32.748),
(-117.143,32.748),
(-117.138,32.748),
(-117.137,32.748),
(-117.137,32.749),
(-117.14,32.749),
(-117.14,32.75),
(-117.14,32.755),
(-117.14,32.76),
(-117.14,32.763),
(-117.138,32.763),
(-117.137,32.763),
(-117.133,32.763),
(-117.131,32.763),
(-117.131,32.755),
(-117.13,32.755),
(-117.133,32.755),
(-117.133,32.748),
(-117.134,32.748),
(-117.135,32.748),
(-117.135,32.749),
(-117.142,32.749),
(-117.142,32.749)]

# Plot the coordinates

for coord in originalStops:
    ax.plot(coord[0], coord[1], marker='o', markersize=5, color='red', transform=ccrs.Geodetic())
'''
# Connect consecutive points with lines
for i in range(len(coords)-1):
    start = coords[i]
    end = coords[i+1]
    ax.plot([start[0], end[0]], [start[1], end[1]], color='blue', linewidth=2, transform=ccrs.Geodetic())
'''
# Plot the streets
ax.add_geometries(streets['geometry'], crs=ccrs.PlateCarree(), edgecolor='gray', facecolor='none')

plt.show()
